# Copyright (c) 2022 The ZMK Contributors
# SPDX-License-Identifier: MIT

menuconfig ZMK_SPLIT
    bool "Split keyboard support"

if ZMK_SPLIT

config ZMK_SPLIT_ROLE_CENTRAL
    bool "Split central device"

choice ZMK_SPLIT_TRANSPORT
    prompt "Split transport"

config ZMK_SPLIT_BLE
    bool "BLE"
    depends on ZMK_BLE
    select BT_USER_PHY_UPDATE
    select BT_AUTO_PHY_UPDATE

endchoice

config ZMK_SPLIT_PERIPHERAL_HID_INDICATORS
    bool "Peripheral HID Indicators"
    depends on ZMK_HID_INDICATORS
    help
      Enable propagating the HID (LED) Indicator state to the split peripheral(s).

config ZMK_SPLIT_SYNC_LAST_ACTIVITY_TIMING
    bool "Sync last activity timing across all devices"
    default n
    help
        Sync central device last activity timing to the split peripheral(s).
        Does not help to wake up peripheral devices that have gone to deep sleep.

if ZMK_SPLIT_ROLE_CENTRAL && ZMK_SPLIT_SYNC_LAST_ACTIVITY_TIMING
config ZMK_SPLIT_SYNC_PERIODIC_INTERVAL_MS
    int "Last activity time periodic sync interval in milliseconds"
    default 30000

config ZMK_SPLIT_SYNC_EVENT_MIN_INTERVAL_MS
    int "Last activity time sync interval in milliseconds"
    default 0

#ZMK_SPLIT_ROLE_CENTRAL && ZMK_SPLIT_SYNC_LAST_ACTIVITY_TIMING
endif

#ZMK_SPLIT
endif

rsource "bluetooth/Kconfig"
